import{r as t,j as e,a as w}from"./app-DIXEbt7d.js";import{M as c,T as k}from"./TextInput-DYLcJunQ.js";import{B as u}from"./Button-DVWaxQgd.js";import{T as N}from"./TextArea-BbNF39jT.js";import{I as S}from"./ImagePreviewInput-Bes5QOkE.js";function L(){const[h,x]=t.useState(null),[i,p]=t.useState(""),[l,g]=t.useState(""),[n,j]=t.useState(null),[v,r]=t.useState(!1),[d,f]=t.useState(!1),m=s=>{const a=s.target.files[0];if(a){const o=new FileReader;o.onloadend=()=>{j(o.result)},o.readAsDataURL(a),x(a)}},b=async s=>{s.preventDefault();try{const a=new FormData;a.append("gambar",h),a.append("nama",i),a.append("deskripsi",l),await w.post("http://127.0.0.1:8000/tambahvideo",a,{headers:{"Content-Type":"multipart/form-data"}}),f(!0)}catch(a){a.response&&(alert("Data gagal dimasukkan"),window.location.reload())}};return e.jsxs("div",{children:[d&&e.jsx("div",{className:"relative w-[300px] h-screen mt-32",children:e.jsxs(c,{children:[e.jsx("h1",{className:"text-xs text-center",children:"Data berhasil dimasukan"}),e.jsx("div",{onClick:()=>window.location.reload(),className:"text-center mt-5",children:e.jsx(u,{className:"w-32",children:"ok"})})]})}),e.jsx(c,{children:e.jsxs("form",{onSubmit:b,className:`flex flex-col ${d?"hidden":"block"}`,content:"",children:[e.jsxs("div",{className:`${n?"hidden":"block"}`,children:[e.jsx("label",{htmlFor:"gambar",children:e.jsx("img",{src:"gallery.png",alt:"",className:"w-[250px] mx-auto"})}),e.jsx("input",{type:"file",nama:"gambar",id:"gambar",onChange:m,className:"hidden"})]}),n&&e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:n,alt:"Preview",className:"mt-2 rounded-lg w-[300px] h-[250px] object-cover shadow-lg",onMouseOver:()=>r(!0),onMouseOut:()=>r(!1)}),e.jsx("div",{onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),children:e.jsx("div",{className:`absolute -top-4 bg-white rounded-lg ${v?"block":"hidden"}`,children:e.jsx(S,{nama:"gambar",onChange:m})})})]}),e.jsx(k,{type:"text",name:"nama",value:i,onChange:s=>p(s.target.value),placeholder:"Nama",minLength:5,maxLength:25,required:!0}),e.jsx(N,{type:"text",name:"deskripsi",value:l,onChange:s=>g(s.target.value),placeholder:"Deskripsi",minLength:5,maxLength:50,required:!0}),e.jsx(u,{children:"Submit"})]})})]})}export{L as default};
