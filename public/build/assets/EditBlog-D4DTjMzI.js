import{r as l,j as e}from"./app-DIXEbt7d.js";import{u as f}from"./index-JI4Yne6X.js";import{M as d,T as b}from"./TextInput-DYLcJunQ.js";import{B as o}from"./Button-DVWaxQgd.js";import{T as v}from"./TextArea-BbNF39jT.js";import{u as w}from"./Url-B9Ugvx3m.js";function L({blog:s}){const[m,c]=l.useState(!1),{data:t,setData:r,post:u,processing:x}=f({_method:"PUT",nama:s.nama,deskripsi:s.deskripsi,gambar_lama:s.gambar}),[p,h]=l.useState(w+t.gambar_lama),g=a=>{const i=a.target.files[0];r("gambar",i);const n=new FileReader;n.onloadend=()=>{h(n.result)},i&&n.readAsDataURL(i)},j=a=>{a.preventDefault(),c(!0),u(`/blogupdate/${s.id}`)};return e.jsxs("div",{children:[m&&e.jsx("div",{className:"relative w-[300px] h-screen mt-32",children:e.jsxs(d,{children:[e.jsx("h1",{className:"text-xs text-center",children:"Data berhasil diupdate"}),e.jsx("div",{onClick:()=>window.location.reload(),className:"text-center mt-5",children:e.jsx(o,{className:"w-32",children:"ok"})})]})}),e.jsx(d,{children:e.jsxs("form",{onSubmit:j,className:`flex flex-col ${m?"hidden":"block"}`,children:[e.jsxs("label",{htmlFor:"gambar",children:[e.jsx("img",{src:p,alt:"Preview",className:"mt-2 rounded-lg w-[300px] h-[250px] object-cover shadow-lg"}),e.jsx("input",{type:"hidden",name:"gambar_lama",value:s.gambar}),e.jsx("input",{type:"file",name:"gambar",id:"gambar",onChange:g,className:"hidden"})]}),e.jsx(b,{type:"text",name:"nama",value:t.nama,onChange:a=>r("nama",a.target.value),placeholder:"Nama",minLength:5,maxLength:25,required:!0}),e.jsx(v,{type:"text",name:"deskripsi",value:t.deskripsi,onChange:a=>r("deskripsi",a.target.value),placeholder:"Deskripsi",minLength:5,maxLength:100,required:!0}),e.jsx(o,{disabled:x,children:"Submit"})]})})]})}export{L as default};
