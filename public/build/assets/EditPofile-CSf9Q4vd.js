import{r as o,j as e}from"./app-DIXEbt7d.js";import{u as v}from"./index-JI4Yne6X.js";import{M as d,T as l}from"./TextInput-DYLcJunQ.js";import{B as c}from"./Button-DVWaxQgd.js";import{u as k}from"./Url-B9Ugvx3m.js";function C({profile:t}){const[i,u]=o.useState(!1),{data:n,setData:s,post:h,processing:x}=v({_method:"PUT",nama:t.nama,kontak:t.kontak,email:t.email,gambar_lama:t.gambar}),[g,p]=o.useState(k+n.gambar_lama),j=a=>{const r=a.target.files[0];s("gambar",r);const m=new FileReader;m.onloadend=()=>{p(m.result)},r&&m.readAsDataURL(r)},b=a=>{a.preventDefault(),u(!0),h(`/profileupdate/${t.id}`)};return e.jsxs("div",{children:[i&&e.jsx("div",{className:"relative w-[300px] h-screen mt-32",children:e.jsxs(d,{children:[e.jsx("h1",{className:"text-xs text-center",children:"Data berhasil diupdate"}),e.jsx("div",{onClick:()=>window.location.reload(),className:"text-center mt-5",children:e.jsx(c,{className:"w-32",children:"ok"})})]})}),e.jsx(d,{children:e.jsxs("form",{onSubmit:b,className:`flex flex-col ${i?"hidden":"block"}`,children:[e.jsxs("label",{htmlFor:"gambar",children:[e.jsx("img",{src:g,alt:"Preview",className:"mt-2 rounded-lg w-[300px] h-[250px] object-cover shadow-lg"}),e.jsx("input",{type:"hidden",name:"gambar_lama",value:t.gambar}),e.jsx("input",{type:"file",name:"gambar",id:"gambar",onChange:j,className:"hidden"})]}),e.jsx(l,{type:"text",name:"nama",value:n.nama,onChange:a=>s("nama",a.target.value),placeholder:"Nama",minLength:5,maxLength:25,required:!0}),e.jsx(l,{type:"email",name:"email",value:n.email,onChange:a=>s("email",a.target.value),placeholder:"Email",minLength:5,maxLength:25,required:!0}),e.jsx(l,{type:"text",name:"kontak",value:n.kontak,onChange:a=>s("kontak",a.target.value),placeholder:"Kontak",minLength:5,maxLength:25,required:!0}),e.jsx(c,{disabled:x,children:"Submit"})]})})]})}export{C as default};
