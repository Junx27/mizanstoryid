import{j as e,r as c,a as P}from"./app-DIXEbt7d.js";import{S as _,P as O}from"./Sidebar-DBH7bpIf.js";import{B as x}from"./Button-DVWaxQgd.js";import{P as M}from"./PopOver-DE_Gsfp0.js";const R=({currentPage:s,totalPages:l,onPageChange:n,data:f})=>e.jsxs("nav",{className:"mt-10 bg-white px-4 py-3 flex flex-col items-center justify-center sm:flex-row sm:items-center sm:justify-between border-t border-gray-200 sm:px-6",children:[e.jsx("div",{className:"flex items-center justify-center sm:justify-start",children:e.jsxs("p",{className:"text-xs text-gray-700",children:["Showing",e.jsxs("span",{className:"font-bold text-blue-500",children:[" ",s," "]}),"to",e.jsxs("span",{className:"font-bold text-blue-500",children:[" ",l," "]}),"of",e.jsxs("span",{className:"font-bold text-blue-500",children:[" ",l," "]}),"results"]})}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end mt-2 sm:mt-0",children:[e.jsx("button",{disabled:s===1,onClick:()=>n(s-1),className:`relative inline-flex items-center px-4 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${s===1?"hidden":""}`,children:"Previous"}),e.jsx("button",{disabled:s===l,onClick:()=>n(s+1),className:`ml-2 relative inline-flex items-center px-4 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${s===l?"hidden":""}`,children:"Next"})]})]});function G({pesanans:s}){const n="Penggunanan memori",m=s.length,p=m/2e3*100,[h,j]=c.useState(1),[d,o]=c.useState([]),[i,g]=c.useState(""),[u,b]=c.useState(!1),N=Math.ceil(s.length/10),y=t=>{j(t)},w=(t,a)=>{t.target.checked?o([...d,a]):o(d.filter(r=>r!==a))},v=t=>{if(t.target.checked){const a=s.map(r=>r.id);o(a)}else o([])},k=()=>{const t=(h-1)*10,a=t+10;let r=s;return i&&(r=r.filter(I=>I.nama.toLowerCase().includes(i.toLowerCase()))),r.slice(t,a)},C=t=>d.includes(t),E=()=>{d.forEach(async t=>{try{await P.delete(`/pesanan/${t}`),b(!0)}catch(a){console.error("Error deleting data:",a)}})},S=t=>{const a=encodeURIComponent(`Hallo...
Saya Mizan Story Id, akan konfirmasi pesanan anda. Terima Kasih.`),r=`https://wa.me/${t}?text=${a}`;window.open(r,"_blank")};return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(_,{})}),e.jsxs("div",{className:"pt-5 mx-5 md:mx-0 md:ml-[150px] md:mr-5 md:pt-20 relative",children:[u&&e.jsx(M,{children:e.jsxs("div",{className:"bg-white shadow-lg w-64 p-5 rounded-lg -mt-64",children:[e.jsx("p",{className:"text-xs text-center",children:"Data pesanan masuk telah dihapus"}),e.jsx("div",{className:"flex justify-center mt-5",onClick:()=>{b(!u),window.location.reload()},children:e.jsx(x,{className:"w-20",children:"ok"})})]})}),e.jsx("h1",{className:"text-xs md:text-sm font-bold mb-10",children:"Daftar pesanan masuk"}),e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"mr-5 w-full md:w-96 h-32 md:h-64 shadow-lg p-5 rounded-lg",children:e.jsx(O,{progress:p,nama:n,progressComplete:m,progressValue:2e3,totalProgress:p.toFixed(2)})}),e.jsx("div",{className:"mt-10 md:mt-0 mx-auto md:mx-0 mb-5 md:absolute md:top-20 md:left-[30%]",children:e.jsx("input",{type:"text",placeholder:"Cari nama",value:i,onChange:t=>g(t.target.value),className:"w-64 px-2 md:py-1 rounded-lg text-xs"})}),e.jsxs("table",{className:"relative mt-10 md:mt-0 table-auto w-full shadow-lg rounded-lg p-5 bg-white",children:[d.length>0&&e.jsx("div",{className:"flex items-center absolute right-5 -top-2",onClick:E,children:e.jsx(x,{className:"shadow-sm text-[10px] md:text-xs",children:"Hapus"})}),e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"border-r px-2 md:px-3 py-2 font-bold rounded-tl text-start text-blue-500",children:e.jsx("input",{type:"checkbox",className:"rounded outline-0",onChange:v})}),e.jsx("th",{className:"border-r px-2 md:px-3 py-4 font-bold text-start text-xs w-64",children:"Nama"}),e.jsx("th",{className:"border-r px-2 md:px-3 py-4 font-bold text-start text-xs w-96",children:"Kontak"}),e.jsx("th",{className:"px-2 md:px-3 py-4 font-bold text-start text-xs w-full",children:"Order"})]})}),e.jsx("tbody",{className:"relative text-[10px]",children:k().map((t,a)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"border-r px-2 md:px-3 py-1",children:e.jsx("input",{type:"checkbox",id:`select-${t.id}`,className:"rounded outline-0",checked:C(t.id),onChange:r=>w(r,t.id)})}),e.jsx("td",{className:"border-r px-2 md:px-3 py-1 font-bold capitalize",children:t.nama}),e.jsxs("td",{className:"border-r px-2 md:px-3 py-1 flex flex-col md:flex-row md:justify-between items-center pt-4",children:[t.kontak,e.jsx("div",{onClick:()=>S(t.kontak),className:"md:ml-3 pt-4 md:pt-0",children:e.jsx(x,{className:"text-[10px]",children:"Hubungi"})})]}),e.jsx("td",{className:"px-2 md:px-3 py-1",children:t.deskripsi})]},a))})]})]}),e.jsx("div",{className:"mb-20",children:e.jsx(R,{currentPage:h,totalPages:N,onPageChange:y,data:s})})]})]})}export{G as default};
